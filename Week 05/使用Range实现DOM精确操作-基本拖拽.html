<!--
 * @Author: BaoTong
 * @Date: 2020-11-09 01:03:29
 * @LastEditors: BaoTong
 * @LastEditTime: 2020-11-09 01:12:17
 * @FilePath: \11p6_practice\week05\Proxy\使用Range实现DOM精确操作-基本拖拽.html
 * @Description: edit
-->
<div id="dragable" style="width:100px;height:100px;background-color:aqua"></div>

<script>
    let dragable=document.getElementById("dragable");

    let baseX = 0,baseY = 0;

    dragable.addEventListener("mousedown",function(event) {
        let startX = event.clientX,startY = event.clientY

        let up = event =>{
            baseX = baseX + event.clientX -startX
            baseY = baseY + event.clientY -startY
            document.removeEventListener("mousemove",move);
            document.removeEventListener("mouseup",up);
        }

        let move = event =>{
            dragable.style.transform = `translate(${baseX+event.clientX-startX}px,${baseY+event.clientY-startY}px)`
        }
        document.addEventListener("mousemove",move)
        document.addEventListener("mouseup",up)
    })
</script>